{"remainingRequest":"I:\\workstation\\web\\cmd_admin\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!I:\\workstation\\web\\cmd_admin\\src\\components\\Output.vue?vue&type=script&lang=js&","dependencies":[{"path":"I:\\workstation\\web\\cmd_admin\\src\\components\\Output.vue","mtime":1588902506597},{"path":"I:\\workstation\\web\\cmd_admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"I:\\workstation\\web\\cmd_admin\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"I:\\workstation\\web\\cmd_admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"I:\\workstation\\web\\cmd_admin\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBheGlvcyBmcm9tICJheGlvcyI7CgpleHBvcnQgZGVmYXVsdCB7CiAgICBuYW1lOiAiT3V0cHV0IiwKICAgIHByb3BzOiBbJ3Rhc2snLF0sCiAgICBkYXRhKCkgewogICAgICAgIHJldHVybiB7CiAgICAgICAgICAgIGRhdGFMaXN0OiBbXSwKICAgICAgICAgICAgaXNTaG93OiB0cnVlCiAgICAgICAgfQogICAgfSwKICAgIG1ldGhvZHM6IHsKICAgICAgICBiZkNsb3NlOiBmdW5jdGlvbiAoZG9uZSkgewogICAgICAgICAgICB0aGlzLiRlbWl0KCJjbG9zZU91dCIpCiAgICAgICAgICAgIGRvbmUoKQogICAgICAgIH0sCiAgICAgICAgZGVsZXRlT3V0cHV0OmZ1bmN0aW9uKCl7CiAgICAgICAgICAgIGxldCB2dWUgPSB0aGlzCiAgICAgICAgICAgIHZ1ZS5jb25maXJtQWN0aW9uKGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgYXhpb3MuZ2V0KCdodHRwOi8vMTI3LjAuMC4xOjMwMDAvYXBpL3Rhc2svL291dHB1dC9kZWxldGU/aWQ9JyArIHZ1ZS50YXNrLklELCkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICAgICAgICBpZiAocmVzLmRhdGEuY29kZSA9PT0gMCkgewogICAgICAgICAgICAgICAgICAgdnVlLm1lc3NhZ2VTdWNjZXNzKCkKICAgICAgICAgICAgICAgICAgICB2dWUuaW5pdCgpCiAgICAgICAgICAgICAgICB9ZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgdnVlLm1lc3NhZ2VFcnJvcihyZXMuZGF0YS5tc2cpCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pCiAgICAgICAgICAgIH0pCiAgICAgICAgfSwKICAgICAgICBpbml0OiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIC8vIGxldCBkYXRhID0gdGhpcy5kYXRhTGlzdAogICAgICAgICAgICBsZXQgdnVlID0gdGhpcwogICAgICAgICAgICBheGlvcy5nZXQoJ2h0dHA6Ly8xMjcuMC4wLjE6MzAwMC9hcGkvdGFzay9vdXRwdXQ/aWQ9JyArIHRoaXMudGFzay5JRCwpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgICAgICAgaWYgKHJlcy5kYXRhLmNvZGUgPT09IDApIHsKICAgICAgICAgICAgICAgICAgICBsZXQgZGF0YUxpc3QgPSBbXQogICAgICAgICAgICAgICAgICAgIHJlcy5kYXRhLmRhdGEubWFwKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBzID0gIiIKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGl0ZW0uVHlwZSA9PSAyKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzICs9ICJpbmZvICIKICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHMgKz0gImVycm9yICIKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICBzICs9IGl0ZW0uVXBkYXRlZEF0CiAgICAgICAgICAgICAgICAgICAgICAgIHMgKz0gJyA6ICAgICAnCiAgICAgICAgICAgICAgICAgICAgICAgIHMgKz0gaXRlbS5UZXh0CiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGFMaXN0LnB1c2gocykKICAgICAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgICAgICAgIHZ1ZS5kYXRhTGlzdCA9IGRhdGFMaXN0CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pCiAgICAgICAgfSwKICAgICAgICBtZXNzYWdlU3VjY2VzczogZnVuY3Rpb24gKG1zZykgewogICAgICAgICAgICBpZiAoIW1zZykgewogICAgICAgICAgICAgICAgbXNnID0gJ+aTjeS9nOaIkOWKnycKICAgICAgICAgICAgfQogICAgICAgICAgICB0aGlzLiRtZXNzYWdlKHsKICAgICAgICAgICAgICAgIG1lc3NhZ2U6IG1zZywKICAgICAgICAgICAgICAgIHR5cGU6ICdzdWNjZXNzJwogICAgICAgICAgICB9KTsKICAgICAgICB9LAogICAgICAgIG1lc3NhZ2VFcnJvcjogZnVuY3Rpb24gKG1zZykgewogICAgICAgICAgICBpZiAoIW1zZykgewogICAgICAgICAgICAgICAgbXNnID0gJ+aTjeS9nOWksei0pScKICAgICAgICAgICAgfQogICAgICAgICAgICB0aGlzLiRtZXNzYWdlKHsKICAgICAgICAgICAgICAgIG1lc3NhZ2U6IG1zZywKICAgICAgICAgICAgICAgIHR5cGU6ICd3YXJuaW5nJwogICAgICAgICAgICB9KTsKICAgICAgICB9LAogICAgICAgIGNvbmZpcm1BY3Rpb246IGZ1bmN0aW9uIChjYWxsYmFjaywgY29udGVudCkgewogICAgICAgICAgICBpZiAoIWNvbnRlbnQpIHsKICAgICAgICAgICAgICAgIGNvbnRlbnQgPSAn56Gu6K6k5pON5L2cPycKICAgICAgICAgICAgfQogICAgICAgICAgICB0aGlzLiRhbGVydChjb250ZW50LCAn5o+Q56S6JywgewogICAgICAgICAgICAgICAgY29uZmlybUJ1dHRvblRleHQ6ICfnoa7lrponLAogICAgICAgICAgICAgICAgY2FsbGJhY2s6IGFjdGlvbiA9PiB7CiAgICAgICAgICAgICAgICAgICAgaWYgKGFjdGlvbiA9PT0gJ2NvbmZpcm0nKXsKICAgICAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2soKQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgfQogICAgfSwKCiAgICBjcmVhdGVkKCkgewogICAgICAgIHRoaXMuaW5pdCgpCiAgICB9Cn0K"},{"version":3,"sources":["Output.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;AAiBA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA","file":"Output.vue","sourceRoot":"src/components","sourcesContent":["<template>\r\n    <div>\r\n        <el-dialog :title=\"task.Name\" :visible.sync=\"isShow\" :before-close=\"bfClose\" align=\"left\">\r\n            <p>Dir:{{task.Dir}}</p>\r\n            <p>Command:{{task.Command}}</p>\r\n            <div style=\"height: 400px;overflow:auto\">\r\n                <p v-for=\"(data,index) in dataList\" v-bind:key=\"index\">{{data}}</p>\r\n            </div>\r\n            <div slot=\"footer\" class=\"dialog-footer\">\r\n                <el-button @click=\"deleteOutput\" >清空</el-button>\r\n                <el-button type=\"primary\" @click=\"init\">刷新</el-button>\r\n            </div>\r\n        </el-dialog>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    import axios from \"axios\";\r\n\r\n    export default {\r\n        name: \"Output\",\r\n        props: ['task',],\r\n        data() {\r\n            return {\r\n                dataList: [],\r\n                isShow: true\r\n            }\r\n        },\r\n        methods: {\r\n            bfClose: function (done) {\r\n                this.$emit(\"closeOut\")\r\n                done()\r\n            },\r\n            deleteOutput:function(){\r\n                let vue = this\r\n                vue.confirmAction(function () {\r\n                axios.get('http://127.0.0.1:3000/api/task//output/delete?id=' + vue.task.ID,).then(function (res) {\r\n                    if (res.data.code === 0) {\r\n                       vue.messageSuccess()\r\n                        vue.init()\r\n                    }else {\r\n                        vue.messageError(res.data.msg)\r\n                    }\r\n                })\r\n                })\r\n            },\r\n            init: function () {\r\n                // let data = this.dataList\r\n                let vue = this\r\n                axios.get('http://127.0.0.1:3000/api/task/output?id=' + this.task.ID,).then(function (res) {\r\n                    if (res.data.code === 0) {\r\n                        let dataList = []\r\n                        res.data.data.map(function (item) {\r\n                            let s = \"\"\r\n                            if (item.Type == 2) {\r\n                                s += \"info \"\r\n                            } else {\r\n                                s += \"error \"\r\n                            }\r\n                            s += item.UpdatedAt\r\n                            s += ' :     '\r\n                            s += item.Text\r\n                            dataList.push(s)\r\n                        })\r\n                        vue.dataList = dataList\r\n                    }\r\n                })\r\n            },\r\n            messageSuccess: function (msg) {\r\n                if (!msg) {\r\n                    msg = '操作成功'\r\n                }\r\n                this.$message({\r\n                    message: msg,\r\n                    type: 'success'\r\n                });\r\n            },\r\n            messageError: function (msg) {\r\n                if (!msg) {\r\n                    msg = '操作失败'\r\n                }\r\n                this.$message({\r\n                    message: msg,\r\n                    type: 'warning'\r\n                });\r\n            },\r\n            confirmAction: function (callback, content) {\r\n                if (!content) {\r\n                    content = '确认操作?'\r\n                }\r\n                this.$alert(content, '提示', {\r\n                    confirmButtonText: '确定',\r\n                    callback: action => {\r\n                        if (action === 'confirm'){\r\n                            callback()\r\n                        }\r\n                    }\r\n                });\r\n            }\r\n        },\r\n\r\n        created() {\r\n            this.init()\r\n        }\r\n    }\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>"]}]}