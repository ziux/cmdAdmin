{"remainingRequest":"I:\\workstation\\web\\cmd_admin\\node_modules\\babel-loader\\lib\\index.js!I:\\workstation\\web\\cmd_admin\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!I:\\workstation\\web\\cmd_admin\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!I:\\workstation\\web\\cmd_admin\\src\\components\\Output.vue?vue&type=script&lang=js&","dependencies":[{"path":"I:\\workstation\\web\\cmd_admin\\src\\components\\Output.vue","mtime":1588902506597},{"path":"I:\\workstation\\web\\cmd_admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"I:\\workstation\\web\\cmd_admin\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"I:\\workstation\\web\\cmd_admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"I:\\workstation\\web\\cmd_admin\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkubWFwIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IGF4aW9zIGZyb20gImF4aW9zIjsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJPdXRwdXQiLAogIHByb3BzOiBbJ3Rhc2snXSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgZGF0YUxpc3Q6IFtdLAogICAgICBpc1Nob3c6IHRydWUKICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICBiZkNsb3NlOiBmdW5jdGlvbiBiZkNsb3NlKGRvbmUpIHsKICAgICAgdGhpcy4kZW1pdCgiY2xvc2VPdXQiKTsKICAgICAgZG9uZSgpOwogICAgfSwKICAgIGRlbGV0ZU91dHB1dDogZnVuY3Rpb24gZGVsZXRlT3V0cHV0KCkgewogICAgICB2YXIgdnVlID0gdGhpczsKICAgICAgdnVlLmNvbmZpcm1BY3Rpb24oZnVuY3Rpb24gKCkgewogICAgICAgIGF4aW9zLmdldCgnaHR0cDovLzEyNy4wLjAuMTozMDAwL2FwaS90YXNrLy9vdXRwdXQvZGVsZXRlP2lkPScgKyB2dWUudGFzay5JRCkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICBpZiAocmVzLmRhdGEuY29kZSA9PT0gMCkgewogICAgICAgICAgICB2dWUubWVzc2FnZVN1Y2Nlc3MoKTsKICAgICAgICAgICAgdnVlLmluaXQoKTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHZ1ZS5tZXNzYWdlRXJyb3IocmVzLmRhdGEubXNnKTsKICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgfSk7CiAgICB9LAogICAgaW5pdDogZnVuY3Rpb24gaW5pdCgpIHsKICAgICAgLy8gbGV0IGRhdGEgPSB0aGlzLmRhdGFMaXN0CiAgICAgIHZhciB2dWUgPSB0aGlzOwogICAgICBheGlvcy5nZXQoJ2h0dHA6Ly8xMjcuMC4wLjE6MzAwMC9hcGkvdGFzay9vdXRwdXQ/aWQ9JyArIHRoaXMudGFzay5JRCkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgaWYgKHJlcy5kYXRhLmNvZGUgPT09IDApIHsKICAgICAgICAgIHZhciBkYXRhTGlzdCA9IFtdOwogICAgICAgICAgcmVzLmRhdGEuZGF0YS5tYXAoZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICAgICAgdmFyIHMgPSAiIjsKCiAgICAgICAgICAgIGlmIChpdGVtLlR5cGUgPT0gMikgewogICAgICAgICAgICAgIHMgKz0gImluZm8gIjsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICBzICs9ICJlcnJvciAiOwogICAgICAgICAgICB9CgogICAgICAgICAgICBzICs9IGl0ZW0uVXBkYXRlZEF0OwogICAgICAgICAgICBzICs9ICcgOiAgICAgJzsKICAgICAgICAgICAgcyArPSBpdGVtLlRleHQ7CiAgICAgICAgICAgIGRhdGFMaXN0LnB1c2gocyk7CiAgICAgICAgICB9KTsKICAgICAgICAgIHZ1ZS5kYXRhTGlzdCA9IGRhdGFMaXN0OwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgbWVzc2FnZVN1Y2Nlc3M6IGZ1bmN0aW9uIG1lc3NhZ2VTdWNjZXNzKG1zZykgewogICAgICBpZiAoIW1zZykgewogICAgICAgIG1zZyA9ICfmk43kvZzmiJDlip8nOwogICAgICB9CgogICAgICB0aGlzLiRtZXNzYWdlKHsKICAgICAgICBtZXNzYWdlOiBtc2csCiAgICAgICAgdHlwZTogJ3N1Y2Nlc3MnCiAgICAgIH0pOwogICAgfSwKICAgIG1lc3NhZ2VFcnJvcjogZnVuY3Rpb24gbWVzc2FnZUVycm9yKG1zZykgewogICAgICBpZiAoIW1zZykgewogICAgICAgIG1zZyA9ICfmk43kvZzlpLHotKUnOwogICAgICB9CgogICAgICB0aGlzLiRtZXNzYWdlKHsKICAgICAgICBtZXNzYWdlOiBtc2csCiAgICAgICAgdHlwZTogJ3dhcm5pbmcnCiAgICAgIH0pOwogICAgfSwKICAgIGNvbmZpcm1BY3Rpb246IGZ1bmN0aW9uIGNvbmZpcm1BY3Rpb24oX2NhbGxiYWNrLCBjb250ZW50KSB7CiAgICAgIGlmICghY29udGVudCkgewogICAgICAgIGNvbnRlbnQgPSAn56Gu6K6k5pON5L2cPyc7CiAgICAgIH0KCiAgICAgIHRoaXMuJGFsZXJ0KGNvbnRlbnQsICfmj5DnpLonLCB7CiAgICAgICAgY29uZmlybUJ1dHRvblRleHQ6ICfnoa7lrponLAogICAgICAgIGNhbGxiYWNrOiBmdW5jdGlvbiBjYWxsYmFjayhhY3Rpb24pIHsKICAgICAgICAgIGlmIChhY3Rpb24gPT09ICdjb25maXJtJykgewogICAgICAgICAgICBfY2FsbGJhY2soKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0pOwogICAgfQogIH0sCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIHRoaXMuaW5pdCgpOwogIH0KfTs="},{"version":3,"sources":["Output.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n    <div>\r\n        <el-dialog :title=\"task.Name\" :visible.sync=\"isShow\" :before-close=\"bfClose\" align=\"left\">\r\n            <p>Dir:{{task.Dir}}</p>\r\n            <p>Command:{{task.Command}}</p>\r\n            <div style=\"height: 400px;overflow:auto\">\r\n                <p v-for=\"(data,index) in dataList\" v-bind:key=\"index\">{{data}}</p>\r\n            </div>\r\n            <div slot=\"footer\" class=\"dialog-footer\">\r\n                <el-button @click=\"deleteOutput\" >清空</el-button>\r\n                <el-button type=\"primary\" @click=\"init\">刷新</el-button>\r\n            </div>\r\n        </el-dialog>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    import axios from \"axios\";\r\n\r\n    export default {\r\n        name: \"Output\",\r\n        props: ['task',],\r\n        data() {\r\n            return {\r\n                dataList: [],\r\n                isShow: true\r\n            }\r\n        },\r\n        methods: {\r\n            bfClose: function (done) {\r\n                this.$emit(\"closeOut\")\r\n                done()\r\n            },\r\n            deleteOutput:function(){\r\n                let vue = this\r\n                vue.confirmAction(function () {\r\n                axios.get('http://127.0.0.1:3000/api/task//output/delete?id=' + vue.task.ID,).then(function (res) {\r\n                    if (res.data.code === 0) {\r\n                       vue.messageSuccess()\r\n                        vue.init()\r\n                    }else {\r\n                        vue.messageError(res.data.msg)\r\n                    }\r\n                })\r\n                })\r\n            },\r\n            init: function () {\r\n                // let data = this.dataList\r\n                let vue = this\r\n                axios.get('http://127.0.0.1:3000/api/task/output?id=' + this.task.ID,).then(function (res) {\r\n                    if (res.data.code === 0) {\r\n                        let dataList = []\r\n                        res.data.data.map(function (item) {\r\n                            let s = \"\"\r\n                            if (item.Type == 2) {\r\n                                s += \"info \"\r\n                            } else {\r\n                                s += \"error \"\r\n                            }\r\n                            s += item.UpdatedAt\r\n                            s += ' :     '\r\n                            s += item.Text\r\n                            dataList.push(s)\r\n                        })\r\n                        vue.dataList = dataList\r\n                    }\r\n                })\r\n            },\r\n            messageSuccess: function (msg) {\r\n                if (!msg) {\r\n                    msg = '操作成功'\r\n                }\r\n                this.$message({\r\n                    message: msg,\r\n                    type: 'success'\r\n                });\r\n            },\r\n            messageError: function (msg) {\r\n                if (!msg) {\r\n                    msg = '操作失败'\r\n                }\r\n                this.$message({\r\n                    message: msg,\r\n                    type: 'warning'\r\n                });\r\n            },\r\n            confirmAction: function (callback, content) {\r\n                if (!content) {\r\n                    content = '确认操作?'\r\n                }\r\n                this.$alert(content, '提示', {\r\n                    confirmButtonText: '确定',\r\n                    callback: action => {\r\n                        if (action === 'confirm'){\r\n                            callback()\r\n                        }\r\n                    }\r\n                });\r\n            }\r\n        },\r\n\r\n        created() {\r\n            this.init()\r\n        }\r\n    }\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>"],"sourceRoot":"src/components"}]}