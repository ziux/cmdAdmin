{"remainingRequest":"I:\\workstation\\web\\cmd_admin\\node_modules\\babel-loader\\lib\\index.js!I:\\workstation\\web\\cmd_admin\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!I:\\workstation\\web\\cmd_admin\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!I:\\workstation\\web\\cmd_admin\\src\\components\\TaskLine.vue?vue&type=script&lang=js&","dependencies":[{"path":"I:\\workstation\\web\\cmd_admin\\src\\components\\TaskLine.vue","mtime":1590418733826},{"path":"I:\\workstation\\web\\cmd_admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"I:\\workstation\\web\\cmd_admin\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"I:\\workstation\\web\\cmd_admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"I:\\workstation\\web\\cmd_admin\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZSI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCBheGlvcyBmcm9tICdheGlvcyc7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiVGFza0xpbmUiLAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBmb3JtTGFiZWxXaWR0aDogIjIwMHB4IiwKICAgICAgaXNTaG93OiB0cnVlCiAgICB9OwogIH0sCiAgcHJvcHM6IFsnZGF0YSddLAogIG1ldGhvZHM6IHsKICAgIHByaW1hcnlCdXR0b246IGZ1bmN0aW9uIHByaW1hcnlCdXR0b24oKSB7CiAgICAgIHZhciBkYXRhID0gdGhpcy5kYXRhOwoKICAgICAgaWYgKGRhdGEuaWQpIHsKICAgICAgICB0aGlzLnVwZGF0ZVRhc2soKTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLmNyZWF0ZVRhc2soKTsKICAgICAgfQogICAgfSwKICAgIGNyZWF0ZVRhc2s6IGZ1bmN0aW9uIGNyZWF0ZVRhc2soKSB7CiAgICAgIHZhciBkYXRhID0gdGhpcy5kYXRhOwogICAgICB2YXIgdnVlID0gdGhpczsKICAgICAgYXhpb3MucG9zdCgnaHR0cDovLzEyNy4wLjAuMTozMDAwL2FwaS90YXNrJywgewogICAgICAgIG5hbWU6IGRhdGEubmFtZSwKICAgICAgICBkaXI6IGRhdGEuZGlyLAogICAgICAgIGNvbW1hbmQ6IGRhdGEuY29tbWFuZCwKICAgICAgICByZW1hcms6IGRhdGEucmVtYXJrLAogICAgICAgIGtlZXBUeXBlOiBwYXJzZUludChkYXRhLmtlZXBUeXBlKSwKICAgICAgICB0aW1pbmc6IHBhcnNlSW50KGRhdGEudGltaW5nKQogICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICBpZiAocmVzLmRhdGEuY29kZSA9PT0gMCkgewogICAgICAgICAgY29uc29sZS5sb2cocmVzKTsKICAgICAgICAgIHZ1ZS5tZXNzYWdlU3VjY2VzcygpOwogICAgICAgICAgdnVlLiRlbWl0KCJjbG9zZUl0IiwgdHJ1ZSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHZ1ZS5tZXNzYWdlRXJyb3IocmVzLmRhdGEubXNnKTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIHVwZGF0ZVRhc2s6IGZ1bmN0aW9uIHVwZGF0ZVRhc2soKSB7CiAgICAgIHZhciBkYXRhID0gdGhpcy5kYXRhOwogICAgICB2YXIgdnVlID0gdGhpczsKICAgICAgYXhpb3MucHV0KCdodHRwOi8vMTI3LjAuMC4xOjMwMDAvYXBpL3Rhc2s/aWQ9JyArIGRhdGEuaWQsIHsKICAgICAgICBkaXI6IGRhdGEuZGlyLAogICAgICAgIGNvbW1hbmQ6IGRhdGEuY29tbWFuZCwKICAgICAgICByZW1hcms6IGRhdGEucmVtYXJrLAogICAgICAgIGtlZXBUeXBlOiBwYXJzZUludChkYXRhLmtlZXBUeXBlKSwKICAgICAgICB0aW1pbmc6IHBhcnNlSW50KGRhdGEudGltaW5nKQogICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICBpZiAocmVzLmRhdGEuY29kZSA9PT0gMCkgewogICAgICAgICAgY29uc29sZS5sb2cocmVzKTsKICAgICAgICAgIHZ1ZS5tZXNzYWdlU3VjY2VzcygpOwogICAgICAgICAgdnVlLiRlbWl0KCJjbG9zZUl0IiwgdHJ1ZSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHZ1ZS5tZXNzYWdlRXJyb3IocmVzLmRhdGEubXNnKTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIGJmQ2xvc2U6IGZ1bmN0aW9uIGJmQ2xvc2UoZG9uZSkgewogICAgICB0aGlzLiRlbWl0KCJjbG9zZUl0IiwgZmFsc2UpOwogICAgICBkb25lKCk7CiAgICB9LAogICAgbWVzc2FnZVN1Y2Nlc3M6IGZ1bmN0aW9uIG1lc3NhZ2VTdWNjZXNzKG1zZykgewogICAgICBpZiAoIW1zZykgewogICAgICAgIG1zZyA9ICfmk43kvZzmiJDlip8nOwogICAgICB9CgogICAgICB0aGlzLiRtZXNzYWdlKHsKICAgICAgICBtZXNzYWdlOiBtc2csCiAgICAgICAgdHlwZTogJ3N1Y2Nlc3MnCiAgICAgIH0pOwogICAgfSwKICAgIG1lc3NhZ2VFcnJvcjogZnVuY3Rpb24gbWVzc2FnZUVycm9yKG1zZykgewogICAgICBpZiAoIW1zZykgewogICAgICAgIG1zZyA9ICfmk43kvZzlpLHotKUnOwogICAgICB9CgogICAgICB0aGlzLiRtZXNzYWdlKHsKICAgICAgICBtZXNzYWdlOiBtc2csCiAgICAgICAgdHlwZTogJ3dhcm5pbmcnCiAgICAgIH0pOwogICAgfQogIH0KfTs="},{"version":3,"sources":["TaskLine.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n    <div>\r\n        <el-dialog title=\"添加任务\" :visible.sync=\"isShow\" :before-close=\"bfClose\">\r\n            <el-form :model=\"data\">\r\n                <el-form-item label=\"名称\" :label-width=\"formLabelWidth\">\r\n                    <el-input v-model=\"data.name\" autocomplete=\"off\"></el-input>\r\n                </el-form-item>\r\n                <el-form-item label=\"路径\" :label-width=\"formLabelWidth\">\r\n                    <el-input v-model=\"data.dir\" autocomplete=\"off\"></el-input>\r\n                </el-form-item>\r\n                <el-form-item label=\"命令\" :label-width=\"formLabelWidth\">\r\n                    <el-input v-model=\"data.command\" autocomplete=\"off\"></el-input>\r\n                </el-form-item>\r\n                <el-form-item label=\"重启策略\" :label-width=\"formLabelWidth\">\r\n                    <template>\r\n                        <el-radio v-model=\"data.keepType\" label=\"0\" value=\"0\">没有</el-radio>\r\n                        <el-radio v-model=\"data.keepType\" label=\"1\" value=\"1\">定时重启</el-radio>\r\n                        <el-radio v-model=\"data.keepType\" label=\"2\" value=\"2\">保持运行</el-radio>\r\n                    </template>\r\n<!--                    <el-input v-model=\"data.keepType\" autocomplete=\"off\" type=\"number\"></el-input>-->\r\n                </el-form-item>\r\n                <el-form-item label=\"定时间隔\" :label-width=\"formLabelWidth\">\r\n                    <el-input v-model=\"data.timing\" autocomplete=\"off\" type=\"number\"></el-input>\r\n                </el-form-item>\r\n                <el-form-item label=\"备注\" :label-width=\"formLabelWidth\">\r\n                    <el-input v-model=\"data.remark\" autocomplete=\"off\"></el-input>\r\n                </el-form-item>\r\n            </el-form>\r\n            <div slot=\"footer\" class=\"dialog-footer\">\r\n                <el-button @click=\"$emit('closeIt',false)\">取 消</el-button>\r\n                <el-button type=\"primary\" @click=\"primaryButton\">确 定</el-button>\r\n            </div>\r\n        </el-dialog>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    import axios from 'axios'\r\n    export default {\r\n        name: \"TaskLine\",\r\n        data() {\r\n            return {\r\n                formLabelWidth: \"200px\",\r\n                isShow: true\r\n            }\r\n        },\r\n        props: ['data',],\r\n        methods: {\r\n            primaryButton:function(){\r\n                let data = this.data\r\n                if (data.id){\r\n                this.updateTask()\r\n                }else {\r\n                    this.createTask()\r\n                }\r\n            },\r\n            createTask: function () {\r\n                let data = this.data\r\n                let vue = this\r\n                axios.post('http://127.0.0.1:3000/api/task', {\r\n                    name: data.name,\r\n                    dir: data.dir,\r\n                    command: data.command,\r\n                    remark: data.remark,\r\n                    keepType:parseInt(data.keepType),\r\n                    timing:parseInt(data.timing)\r\n                }).then(function (res) {\r\n                    if (res.data.code===0){\r\n                        console.log(res)\r\n                        vue.messageSuccess()\r\n                        vue.$emit(\"closeIt\",true)\r\n                    }else {\r\n                        vue.messageError(res.data.msg)\r\n                    }\r\n\r\n                })\r\n            },\r\n            updateTask: function () {\r\n                let data = this.data\r\n                let vue = this\r\n                axios.put('http://127.0.0.1:3000/api/task?id='+data.id, {\r\n                    dir: data.dir,\r\n                    command: data.command,\r\n                    remark: data.remark,\r\n                    keepType:parseInt(data.keepType),\r\n                    timing:parseInt(data.timing)\r\n                }).then(function (res) {\r\n                    if (res.data.code===0){\r\n                        console.log(res)\r\n                        vue.messageSuccess()\r\n                        vue.$emit(\"closeIt\",true)\r\n                    }else {\r\n                        vue.messageError(res.data.msg)\r\n                    }\r\n\r\n                })\r\n            },\r\n            bfClose:function (done) {\r\n                this.$emit(\"closeIt\",false)\r\n                done()\r\n\r\n\r\n            },\r\n            messageSuccess: function (msg) {\r\n                if (!msg) {\r\n                    msg = '操作成功'\r\n                }\r\n                this.$message({\r\n                    message: msg,\r\n                    type: 'success'\r\n                });\r\n            },\r\n            messageError: function (msg) {\r\n                if (!msg) {\r\n                    msg = '操作失败'\r\n                }\r\n                this.$message({\r\n                    message: msg,\r\n                    type: 'warning'\r\n                });\r\n            },\r\n        },\r\n    }\r\n\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>"],"sourceRoot":"src/components"}]}